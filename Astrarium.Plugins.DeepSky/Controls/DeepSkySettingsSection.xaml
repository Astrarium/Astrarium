<c:SettingsSection 
    x:Class="Astrarium.Plugins.DeepSky.Controls.DeepSkySettingsSection"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    xmlns:t="clr-namespace:Astrarium.Types;assembly=Astrarium.Types"
    xmlns:c="clr-namespace:Astrarium.Types.Controls;assembly=Astrarium.Types"
    xmlns:s="clr-namespace:Astrarium.Types.Themes;assembly=Astrarium.Types"
    Title="{t:Text Section.DeepSky}"
    mc:Ignorable="d"
    d:DesignHeight="450" 
    d:DesignWidth="800">
    <c:SettingsSection.Icon>
        <DrawingImage>
            <DrawingImage.Drawing>
                <DrawingGroup ClipGeometry="M0,0 V100 H100 V0 H0 Z">
                    <GeometryDrawing Brush="white" Geometry="F1 M100,125z M0,0z M89.141,35.617C86.25,22.852 77.844,14.405 68.699,10.364 80.07,20.382 90.545,39.769 77.513,57.433 72.107,64.764 61.296,67.661 56.767,65.617 56.767,65.617 63.769,64.13 68.124,60.322 76.593,52.305 79.423,39.39 72.644,27.649 71.675,25.971 70.546,24.443 69.287,23.074 69.269,23.053 69.254,23.032 69.236,23.012 64.472,17.329 57.929,13.937 50.899,12.896 41.772,11.181 30.003,13.411 21.189,21.562 11.58,30.45 8.468,41.953 9.542,51.895 12.531,37.037 24.084,18.273 45.897,20.724 54.95,21.743 62.862,29.656 63.358,34.601 63.358,34.601 58.081,26.32 44.993,26.32 44.753,26.324 44.246,26.344 44.232,26.344 44.177,26.347 44.121,26.35 44.065,26.354 35.555,26.687 27.282,31.138 22.235,39.88 21.266,41.557 20.508,43.299 19.951,45.075 19.941,45.099 19.932,45.125 19.923,45.149 17.384,52.117 17.718,59.479 20.33,66.087 23.409,74.85 31.226,83.928 42.691,87.484 55.193,91.362 66.711,88.304 74.783,82.405 60.42,87.242 38.394,86.621 29.61,66.506 25.965,58.156 28.861,47.347 32.897,44.445 32.897,44.445 28.363,53.155 34.909,64.489 39.391,71.973 47.526,77.147 57.858,77.147 58.356,77.147 62.346,76.836 63.784,76.514 63.811,76.511 63.839,76.506 63.864,76.503 71.167,75.217 77.376,71.247 81.792,65.681 87.842,58.635 91.795,47.325 89.141,35.617z" />
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
    </c:SettingsSection.Icon>
    <StackPanel Orientation="Vertical" Margin="6" IsEnabled="{Binding IsEnabled}">
        <CheckBox Content="{t:Text Settings.DeepSky}" IsChecked="{Binding Settings.DeepSky}" Margin="2" />
        <CheckBox Content="{t:Text Settings.DeepSkyLabels}" IsChecked="{Binding Settings.DeepSkyLabels}" IsEnabled="{Binding Settings.DeepSky}" Margin="2" />
        <CheckBox Content="{t:Text Settings.DeepSkyImages}" IsChecked="{Binding Settings.DeepSkyImages}" IsEnabled="{Binding Settings.DeepSky}" Margin="2" />
        <CheckBox Content="{t:Text Settings.DeepSkyHideOutline}" IsChecked="{Binding Settings.DeepSkyHideOutline}" IsEnabled="{Binding Settings.DeepSky}" Margin="2" />
        <StackPanel Orientation="Vertical" IsEnabled="{Binding Settings.DeepSkyImages}">
            <TextBlock Margin="2 8 2 2" Text="{t:Text Settings.DeepSky.ImagesFolder.Title}" />
            <c:FilePathPicker Caption="{t:Text Settings.DeepSky.ImagesFolder.DialogCaption}" Mode="Directory" SelectedPath="{Binding Settings.DeepSkyImagesFolder}" Validator="{Binding ValidateImagesPath}" />

            <TextBlock Margin="2 8 2 2" TextWrapping="Wrap" Text="{Binding ImagesState}" />
            
            <StackPanel Orientation="Vertical" Visibility="{Binding ImagesFound, Converter={s:InverseBoolToVisibilityConverter}}">
                
                <StackPanel Orientation="Horizontal">
                    <Button Content="{t:Text DeepSkyImages.DownloadAutoButton}" Command="{Binding DownloadImagesCommand}" MinWidth="100" Padding="8 0" Margin="0 8 0 0" Width="Auto" HorizontalAlignment="Left" />
                    <Button Content="{t:Text DeepSkyImages.DownloadManualButton}" Command="{Binding OpenImagesUrlCommand}" MinWidth="100" Padding="8 0" Margin="4 8 0 0" Width="Auto" HorizontalAlignment="Left" />
                </StackPanel>
            </StackPanel>

        </StackPanel>
    </StackPanel>
</c:SettingsSection>
