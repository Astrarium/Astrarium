<c:SettingsSection 
    x:Class="Astrarium.Plugins.Meteors.Controls.MeteorsSettingsSection"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    xmlns:t="clr-namespace:Astrarium.Types;assembly=Astrarium.Types"
    xmlns:c="clr-namespace:Astrarium.Types.Controls;assembly=Astrarium.Types"
    xmlns:s="clr-namespace:Astrarium.Types.Themes;assembly=Astrarium.Types"
    xmlns:sys="clr-namespace:System;assembly=mscorlib" 
    xmlns:p="clr-namespace:Astrarium.Plugins.Meteors;assembly=Astrarium.Plugins.Meteors"
    Title="{t:Text Section.Meteors}"
    mc:Ignorable="d"
    d:DesignHeight="450" 
    d:DesignWidth="800">
    <c:SettingsSection.Icon>
        <DrawingImage>
            <DrawingImage.Drawing>
                <DrawingGroup ClipGeometry="M0,0 V700 H700 V0 H0 Z">
                    <GeometryDrawing Brush="White" Geometry="F1 M700,875z M0,0z M460.75,285.5C467.83,285.5,474.48,282.74,479.49,277.74L558.69,198.54C569.02,188.21 569.02,171.4 558.69,161.07 548.36,150.74 531.55,150.74 521.22,161.07L442.02,240.27C431.69,250.6 431.69,267.41 442.02,277.74 447.02,282.74 453.68,285.5 460.75,285.5z" />
                    <GeometryDrawing Brush="White" Geometry="F1 M700,875z M0,0z M613.75,331.5L501.75,331.5C487.14,331.5 475.25,343.39 475.25,358 475.25,372.61 487.14,384.5 501.75,384.5L613.75,384.5C628.36,384.5 640.25,372.61 640.25,358 640.25,343.39 628.37,331.5 613.75,331.5z" />
                    <GeometryDrawing Brush="White" Geometry="F1 M700,875z M0,0z M479.48,438.26C469.15,427.93 452.34,427.93 442.01,438.26 431.68,448.59 431.68,465.4 442.01,475.74L521.21,554.94C526.22,559.95 532.87,562.7 539.95,562.7 547.03,562.7 553.68,559.94 558.69,554.94 569.02,544.61 569.02,527.8 558.69,517.47L479.48,438.26z" />
                    <GeometryDrawing Brush="White" Geometry="F1 M700,875z M0,0z M361.75,471.5C347.14,471.5,335.25,483.39,335.25,498L335.25,610C335.25,624.61 347.14,636.5 361.75,636.5 376.36,636.5 388.25,624.61 388.25,610L388.25,498C388.25,483.39,376.37,471.5,361.75,471.5z" />
                    <GeometryDrawing Brush="White" Geometry="F1 M700,875z M0,0z M244.02,438.26L164.82,517.46C159.81,522.47 157.06,529.12 157.06,536.2 157.06,543.28 159.82,549.93 164.82,554.94 169.82,559.95 176.48,562.7 183.56,562.7 190.64,562.7 197.29,559.94 202.3,554.94L281.5,475.74C291.83,465.41 291.83,448.6 281.5,438.27 271.17,427.93 254.36,427.93 244.02,438.26z" />
                    <GeometryDrawing Brush="White" Geometry="F1 M700,875z M0,0z M248.25,358C248.25,343.39,236.36,331.5,221.75,331.5L109.75,331.5C95.14,331.5 83.25,343.39 83.25,358 83.25,372.61 95.14,384.5 109.75,384.5L221.75,384.5C236.37,384.5,248.25,372.61,248.25,358z" />
                    <GeometryDrawing Brush="White" Geometry="F1 M700,875z M0,0z M244.02,277.74C249.03,282.75 255.68,285.5 262.76,285.5 269.84,285.5 276.49,282.74 281.5,277.74 291.83,267.41 291.83,250.6 281.5,240.27L202.3,161.07C191.97,150.74 175.16,150.74 164.82,161.07 154.49,171.4 154.49,188.21 164.82,198.54L244.02,277.74z" />
                    <GeometryDrawing Brush="White" Geometry="F1 M700,875z M0,0z M361.75,79.5C347.14,79.5,335.25,91.39,335.25,106L335.25,218C335.25,232.61 347.14,244.5 361.75,244.5 376.36,244.5 388.25,232.61 388.25,218L388.25,106C388.25,91.39,376.37,79.5,361.75,79.5z" />
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
    </c:SettingsSection.Icon>
    <c:SettingsSection.Resources>
        <ObjectDataProvider x:Key="EnumMeteorActivityClass" ObjectType="{x:Type sys:Enum}" MethodName="GetValues">
            <ObjectDataProvider.MethodParameters>
                <x:Type TypeName="p:MeteorActivityClass" />
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>
        <ObjectDataProvider x:Key="EnumMeteorLabelType" ObjectType="{x:Type sys:Enum}" MethodName="GetValues">
            <ObjectDataProvider.MethodParameters>
                <x:Type TypeName="p:MeteorLabelType" />
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>
    </c:SettingsSection.Resources>

    <StackPanel Orientation="Vertical" Margin="6">
        <CheckBox Content="{t:Text Settings.Meteors}" IsChecked="{Binding Settings.Meteors}" Margin="2" />

        <StackPanel Margin="-2" Orientation="Horizontal" IsEnabled="{Binding Settings.Meteors}">
            <Label Margin="0" Content="{t:Text Settings.MeteorsActivityClassLimit}" />
            <ComboBox SelectedValue="{Binding Settings.MeteorsActivityClassLimit}" ItemsSource="{Binding Source={StaticResource EnumMeteorActivityClass}}" MinWidth="80">
                <ComboBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding Converter={s:EnumValueToEnumDescriptionConverter}}"/>
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>
            <Label Margin="0" Content="{t:Text Settings.MeteorsActivityClassLimitAndHigher}" />
        </StackPanel>
        
        <CheckBox Content="{t:Text Settings.MeteorsOnlyActive}" IsChecked="{Binding Settings.MeteorsOnlyActive}" IsEnabled="{Binding Settings.Meteors}" Margin="2" />
        <CheckBox Content="{t:Text Settings.MeteorsLabels}" IsChecked="{Binding Settings.MeteorsLabels}" IsEnabled="{Binding Settings.Meteors}" Margin="2" />

        <StackPanel IsEnabled="{Binding Settings.Meteors}">
        <StackPanel Margin="-2" Orientation="Horizontal" IsEnabled="{Binding Settings.MeteorsLabels}">
            <Label Margin="0" Content="{t:Text Settings.MeteorsLabelsType}" />
                <ComboBox SelectedValue="{Binding Settings.MeteorsLabelsType}" ItemsSource="{Binding Source={StaticResource EnumMeteorLabelType}}" MinWidth="80">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Converter={s:EnumValueToEnumDescriptionConverter}}"/>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
            </StackPanel>
        </StackPanel>
    </StackPanel>
</c:SettingsSection>
