<c:SettingsSection 
    x:Class="Astrarium.Plugins.Atmosphere.Controls.AtmosphereSettingsSection"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    xmlns:t="clr-namespace:Astrarium.Types;assembly=Astrarium.Types"
    xmlns:c="clr-namespace:Astrarium.Types.Controls;assembly=Astrarium.Types"
    xmlns:s="clr-namespace:Astrarium.Types.Themes;assembly=Astrarium.Types"
    xmlns:p="clr-namespace:Astrarium.Plugins.Atmosphere"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"  
    Title="{t:Text Section.Atmosphere}"
    mc:Ignorable="d"
    d:DesignHeight="450" 
    d:DesignWidth="800">

    <c:SettingsSection.Icon>
        <DrawingImage>
            <DrawingImage.Drawing>
                <DrawingGroup ClipGeometry="M0,0 V100 H100 V0 H0 Z">
                    <DrawingGroup.Transform>
                        <ScaleTransform ScaleX="0.6" ScaleY="0.6" />
                    </DrawingGroup.Transform>
                    <GeometryDrawing Brush="White" Geometry="F1 M100,125z M0,0z M50,33.1C71.7,33.1,89.4,50.7,89.4,72.5L95,72.5C95,47.6 74.9,27.5 50,27.5 25.1,27.5 5,47.6 5,72.5L10.6,72.5C10.6,50.8,28.3,33.1,50,33.1z" />
                    <GeometryDrawing Brush="White" Geometry="F1 M100,125z M0,0z M50,44.4C65.5,44.4,78.1,57,78.1,72.5L83.7,72.5C83.7,53.9 68.6,38.7 49.9,38.7 31.2,38.7 16.2,53.9 16.2,72.5L21.8,72.5C21.9,57,34.5,44.4,50,44.4z" />
                    <GeometryDrawing Brush="White" Geometry="F1 M100,125z M0,0z M50,55.6C59.3,55.6,66.9,63.2,66.9,72.5L72.5,72.5C72.5,60.1 62.4,50 50,50 37.6,50 27.5,60.1 27.5,72.5L33.1,72.5C33.1,63.2,40.7,55.6,50,55.6z" />
                    <GeometryDrawing Brush="White" Geometry="F1 M100,125z M0,0z M50,66.9C53.1,66.9,55.6,69.4,55.6,72.5L61.2,72.5C61.2,66.3 56.2,61.3 50,61.3 43.8,61.3 38.8,66.3 38.8,72.5L44.4,72.5C44.4,69.4,46.9,66.9,50,66.9z" />
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
    </c:SettingsSection.Icon>

    <c:SettingsSection.Resources>
        <ObjectDataProvider x:Key="EnumAirmassModel" ObjectType="{x:Type sys:Enum}" MethodName="GetValues">
            <ObjectDataProvider.MethodParameters>
                <x:Type TypeName="t:AirmassModel" />
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>
    </c:SettingsSection.Resources>


    <StackPanel Orientation="Vertical" Margin="6" Grid.IsSharedSizeScope="True">
        <CheckBox Content="{t:Text Settings.Atmosphere}" IsChecked="{Binding Settings.Atmosphere}" Margin="2" />

        <GroupBox>
            <GroupBox.Header>
                <CheckBox Content="{t:Text Settings.Refraction}" IsChecked="{Binding Settings.Refraction}" Margin="2" />
            </GroupBox.Header>

            <Grid Margin="4" IsEnabled="{Binding Settings.Refraction}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" SharedSizeGroup="Labels" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                
                <TextBlock Grid.Row="0" Grid.Column="0" Text="{t:Text Settings.RefractionTemperature}" VerticalAlignment="Center" Padding="0 0 5 0" />
                <c:NumericUpDown Grid.Row="0" Grid.Column="1" Width="60" Value="{Binding Settings.RefractionTemperature}" Minimum="-50" Maximum="50" Step="1" DecimalPlaces="0" Margin="2" />
                <TextBlock Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" IsEnabled="False" Text="{t:Text Settings.RefractionTemperature.Description}" Margin="10 0 0 0" />

                <TextBlock Grid.Row="1" Grid.Column="0" Text="{t:Text Settings.RefractionPressure}" VerticalAlignment="Center" Padding="0 0 5 0" />
                <c:NumericUpDown Grid.Row="1" Grid.Column="1" Width="60" Value="{Binding Settings.RefractionPressure}" Minimum="900" Maximum="1100" Step="1" DecimalPlaces="0" Margin="2" />
                <TextBlock Grid.Row="1" Grid.Column="2" VerticalAlignment="Center" IsEnabled="False" Text="{t:Text Settings.RefractionPressure.Description}" Margin="10 0 0 0" />

            </Grid>
        </GroupBox>

        <GroupBox>
            <GroupBox.Header>
                <CheckBox Content="{t:Text Settings.Extinction}" IsChecked="{Binding Settings.Extinction}" Margin="2" />
            </GroupBox.Header>

            <Grid Margin="4" IsEnabled="{Binding Settings.Extinction}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" SharedSizeGroup="Labels" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0" Grid.Column="0" Text="{t:Text Settings.AirmassModel}" VerticalAlignment="Center" Padding="0 0 5 0" />
                <ComboBox Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="2" HorizontalAlignment="Left" SelectedValue="{Binding Settings.AirmassModel}" ItemsSource="{Binding Source={StaticResource EnumAirmassModel}}" MinWidth="250" Margin="2">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Converter={s:EnumValueToEnumDescriptionConverter}}"/>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

                <TextBlock Grid.Row="1" Grid.Column="0" Text="{t:Text Settings.ExtinctionCoefficient}" VerticalAlignment="Center" Padding="0 0 5 0" />
                                
                <c:NumericUpDown HorizontalAlignment="Left" Width="60" Grid.Row="1" Grid.Column="1" Value="{Binding Settings.ExtinctionCoefficient}" Minimum="0.1" Maximum="0.5" Step="0.05" DecimalPlaces="2" Margin="2" />
                <TextBlock Grid.Row="1" Grid.Column="2" Text="{Binding Settings.ExtinctionCoefficient, Converter={p:ExtinctionCoefficientConverter}}" VerticalAlignment="Center" HorizontalAlignment="Left" IsEnabled="False" Margin="10 0 0 0" />

            </Grid>
        </GroupBox>





        <GroupBox IsEnabled="{Binding Settings.Atmosphere}">
            <GroupBox.Header>
                <CheckBox Content="{t:Text Settings.LightPollution}" IsChecked="{Binding Settings.LightPollution}" Margin="2" />
            </GroupBox.Header>

            <Grid Margin="4" IsEnabled="{Binding Settings.LightPollution}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" SharedSizeGroup="Labels" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0" Grid.Column="0" Text="{t:Text Settings.LightPollutionAltitude}" VerticalAlignment="Center" Padding="0 0 5 0" />
                <c:NumericUpDown Grid.Row="0" Grid.Column="1" Width="60" Value="{Binding Settings.LightPollutionAltitude}" Minimum="0" Maximum="90" Step="1" DecimalPlaces="0" Margin="2" />
                <TextBlock Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" IsEnabled="False" Text="{t:Text Settings.LightPollutionAltitude.Description}" Margin="10 0 0 0" />

                <TextBlock Grid.Row="1" Grid.Column="0" Text="{t:Text Settings.LightPollutionTone}" VerticalAlignment="Center" Padding="0 0 5 0" />
                <c:NumericUpDown Grid.Row="1" Grid.Column="1" Width="60" Value="{Binding Settings.LightPollutionTone}" Minimum="0" Maximum="100" Step="1" DecimalPlaces="0" Margin="2" />
                <TextBlock Grid.Row="1" Grid.Column="2" VerticalAlignment="Center" IsEnabled="False" Text="{t:Text Settings.LightPollutionTone.Description}" Margin="10 0 0 0" />

                <TextBlock Grid.Row="2" Grid.Column="0" Text="{t:Text Settings.LightPollutionIntensity}" VerticalAlignment="Center" Padding="0 0 5 0" />
                <c:NumericUpDown Grid.Row="2" Grid.Column="1" Width="60" Value="{Binding Settings.LightPollutionIntensity}" Minimum="0" Maximum="100" Step="1" DecimalPlaces="0" Margin="2" />
                <TextBlock Grid.Row="2" Grid.Column="2" VerticalAlignment="Center" IsEnabled="False" Text="{t:Text Settings.LightPollutionIntensity.Description}" Margin="10 0 0 0" />
            </Grid>
        </GroupBox>

        <GroupBox IsEnabled="{Binding Settings.Atmosphere}">
            <GroupBox.Header>
                <CheckBox Content="{t:Text Settings.Fog}" IsChecked="{Binding Settings.Fog}" Margin="2" />
            </GroupBox.Header>

            <Grid Margin="4" IsEnabled="{Binding Settings.Fog}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" SharedSizeGroup="Labels" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0" Grid.Column="0" Text="{t:Text Settings.FogAltitude}" VerticalAlignment="Center" Padding="0 0 5 0" />
                <c:NumericUpDown Grid.Row="0" Grid.Column="1" Width="60" Value="{Binding Settings.FogAltitude}" Minimum="0" Maximum="90" Step="1" DecimalPlaces="0" Margin="2" />
                <TextBlock Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" IsEnabled="False" Text="{t:Text Settings.FogAltitude.Description}" Margin="10 0 0 0" />

                <TextBlock Grid.Row="1" Grid.Column="0" Text="{t:Text Settings.FogSpreading}" VerticalAlignment="Center" Padding="0 0 5 0" />
                <c:NumericUpDown Grid.Row="1" Grid.Column="1" Width="60" Value="{Binding Settings.FogSpreading}" Minimum="0" Maximum="100" Step="1" DecimalPlaces="0" Margin="2" />
                <TextBlock Grid.Row="1" Grid.Column="2" VerticalAlignment="Center" IsEnabled="False" Text="{t:Text Settings.FogSpreading.Description}" Margin="10 0 0 0" />

                <TextBlock Grid.Row="2" Grid.Column="0" Text="{t:Text Settings.FogIntensity}" VerticalAlignment="Center" Padding="0 0 5 0" />
                <c:NumericUpDown Grid.Row="2" Grid.Column="1" Width="60" Value="{Binding Settings.FogIntensity}" Minimum="0" Maximum="100" Step="1" DecimalPlaces="0" Margin="2" />
                <TextBlock Grid.Row="2" Grid.Column="2" VerticalAlignment="Center" IsEnabled="False" Text="{t:Text Settings.FogIntensity.Description}" Margin="10 0 0 0" />

            </Grid>
        </GroupBox>


    </StackPanel>
</c:SettingsSection>
